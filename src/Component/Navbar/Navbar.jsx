import React, { useState } from 'react';
// import Logo from './Logo'
import './Navbar.css';
import { CollegePrepItems } from './CollegePrepItems';
import { EducationItems } from './EducationItems';
import Dropdown from './Dropdown';
import { AuthStateValue } from '../../Hooks/auth-user-provider';
import { useFirebase } from '../../Hooks/firebase';
import { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';
import { Interview } from '../Interview/Interview.js';
const Navbar = () => {
    const [click, setClick] = useState(false);
    const [dropdown, setDropdown] = useState(false);
    const { user } = AuthStateValue();
    const { auth } = useFirebase();

    const handleClick = () => setClick(!click);
    const dropdownHover = () => {
        setDropdown(!dropdown);
    };

    const logout = () => {
        auth.signOut()
            .then(() => {
                console.log('logged out');
            })
            .catch((error) => console.log(error.message));
    };
    return (
        <>
            <navbar>
                <Link className='nav-logo' to='/'>
                    <svg
                        width='132'
                        height='35'
                        viewBox='0 0 132 35'
                        fill='none'
                        xmlns='http://www.w3.org/2000/svg'
                    >
                        <path
                            d='M31 4.1665H56V29.1665H31V4.1665Z'
                            fill='#FF5555'
                        />
                        <circle
                            cx='69.5'
                            cy='16.6665'
                            r='12.5'
                            fill='#7EE8FF'
                        />
                        <path
                            d='M0 29.1665L15.4762 4.1665L30 29.1665H0Z'
                            fill='#FFF066'
                        />
                        <path
                            d='M99.1 8.775C99.1833 8.59167 99.3 8.45 99.45 8.35C99.6167 8.25 99.7917 8.2 99.975 8.2C100.242 8.2 100.475 8.29167 100.675 8.475C100.892 8.64167 101 8.85 101 9.1C101 9.23333 100.967 9.36667 100.9 9.5L93.725 25.45C93.625 25.6667 93.475 25.8333 93.275 25.95C93.075 26.0667 92.8583 26.125 92.625 26.125C92.3917 26.125 92.175 26.0667 91.975 25.95C91.775 25.8333 91.625 25.6667 91.525 25.45L84.375 9.5C84.325 9.36667 84.3 9.24167 84.3 9.125C84.3 8.85833 84.4083 8.64167 84.625 8.475C84.8417 8.29167 85.0833 8.2 85.35 8.2C85.75 8.2 86.0417 8.39167 86.225 8.775L92.675 23.35L99.1 8.775ZM104.485 26.125C104.168 26.125 103.918 26.0333 103.735 25.85C103.552 25.65 103.46 25.3917 103.46 25.075V9.3C103.46 8.98333 103.552 8.73333 103.735 8.55C103.918 8.35 104.168 8.25 104.485 8.25C104.802 8.25 105.052 8.35 105.235 8.55C105.418 8.73333 105.51 8.98333 105.51 9.3V25.075C105.51 25.3917 105.418 25.65 105.235 25.85C105.052 26.0333 104.802 26.125 104.485 26.125ZM117.332 26.2C115.665 26.2 114.223 25.8417 113.007 25.125C111.79 24.3917 110.848 23.35 110.182 22C109.532 20.6333 109.207 19.025 109.207 17.175C109.207 15.3417 109.532 13.75 110.182 12.4C110.848 11.0333 111.79 9.99167 113.007 9.275C114.223 8.54167 115.665 8.175 117.332 8.175C118.448 8.175 119.498 8.35833 120.482 8.725C121.482 9.075 122.348 9.58333 123.082 10.25C123.348 10.5 123.482 10.7917 123.482 11.125C123.482 11.3583 123.415 11.5667 123.282 11.75C123.148 11.9167 122.99 12 122.807 12C122.607 12 122.365 11.9083 122.082 11.725C121.232 11.0583 120.457 10.5917 119.757 10.325C119.073 10.0583 118.282 9.925 117.382 9.925C115.448 9.925 113.957 10.5583 112.907 11.825C111.873 13.075 111.357 14.8583 111.357 17.175C111.357 19.5083 111.873 21.3083 112.907 22.575C113.957 23.825 115.448 24.45 117.382 24.45C118.265 24.45 119.057 24.3167 119.757 24.05C120.457 23.7833 121.232 23.3167 122.082 22.65C122.365 22.4667 122.607 22.375 122.807 22.375C122.99 22.375 123.148 22.4583 123.282 22.625C123.415 22.7917 123.482 23 123.482 23.25C123.482 23.5833 123.348 23.875 123.082 24.125C122.348 24.7917 121.482 25.3083 120.482 25.675C119.498 26.025 118.448 26.2 117.332 26.2ZM127.801 26.125C127.484 26.125 127.234 26.0333 127.051 25.85C126.867 25.65 126.776 25.3917 126.776 25.075V9.3C126.776 8.98333 126.867 8.73333 127.051 8.55C127.234 8.35 127.484 8.25 127.801 8.25C128.117 8.25 128.367 8.35 128.551 8.55C128.734 8.73333 128.826 8.98333 128.826 9.3V25.075C128.826 25.3917 128.734 25.65 128.551 25.85C128.367 26.0333 128.117 26.125 127.801 26.125Z'
                            fill='black'
                        />
                    </svg>
                </Link>
                <div className='menu-icon' onClick={handleClick}>
                    <i className={click ? 'fas fa-times' : 'fas fa-bars'} />
                </div>
                <ul className={click ? 'nav-menu active' : 'nav-menu'}>
                    <li className='nav-item'>
                        <Link to='/education' className='nav-links'>
                            Education{' '}
                        </Link>
                    </li>
                    <li
                        className='nav-item'
                        onMouseEnter={dropdownHover}
                        onMouseLeave={dropdownHover}
                    >
                        <Link to='/college-prep' className='nav-links'>
                            College Prep{' '}
                            <svg
                                width='11'
                                height='6'
                                viewBox='0 0 11 6'
                                fill='none'
                                xmlns='http://www.w3.org/2000/svg'
                            >
                                <path
                                    d='M1 0.944702L5.75564 5.0552L10.079 0.944702'
                                    stroke='black'
                                />
                            </svg>
                        </Link>
                        {dropdown && <Dropdown listName={CollegePrepItems} />}
                    </li>
                    <li className='nav-item'>
                        <Link to='/interview' className='nav-links'>
                            Interview
                        </Link>
                    </li>
                    <li className='nav-item'>
                        <Link to='/blog' className='nav-links'>
                            Blog
                        </Link>
                    </li>
                </ul>

                <div className='lang-toggle'>
                    <svg
                        width='48'
                        height='20'
                        viewBox='0 0 48 20'
                        fill='none'
                        xmlns='http://www.w3.org/2000/svg'
                    >
                        <rect
                            x='1'
                            y='1'
                            width='46'
                            height='18'
                            rx='9'
                            stroke='black'
                            stroke-width='2'
                        />
                        <path
                            d='M-1.69479e-06 10C-1.69479e-06 4.47715 4.47715 0 10 0H16.7738H22.8767C28.3996 0 32.8767 4.47715 32.8767 10C32.8767 15.5228 28.3996 20 22.8767 20H10C4.47715 20 -1.69479e-06 15.5228 -1.69479e-06 10Z'
                            fill='#010101'
                        />
                        <path
                            d='M15.1169 11.644C15.2049 11.644 15.2809 11.68 15.3449 11.752C15.4089 11.824 15.4409 11.916 15.4409 12.028C15.4409 12.228 15.3009 12.412 15.0209 12.58C14.7329 12.748 14.4289 12.876 14.1089 12.964C13.7889 13.044 13.4769 13.084 13.1729 13.084C12.2689 13.084 11.5529 12.816 11.0249 12.28C10.5049 11.744 10.2449 11.004 10.2449 10.06C10.2449 9.46 10.3609 8.932 10.5929 8.476C10.8249 8.012 11.1489 7.652 11.5649 7.396C11.9889 7.14 12.4689 7.012 13.0049 7.012C13.7649 7.012 14.3689 7.26 14.8169 7.756C15.2649 8.252 15.4889 8.924 15.4889 9.772C15.4889 9.932 15.4569 10.048 15.3929 10.12C15.3289 10.192 15.2249 10.228 15.0809 10.228H11.2169C11.2889 11.604 11.9409 12.292 13.1729 12.292C13.4849 12.292 13.7529 12.252 13.9769 12.172C14.2009 12.084 14.4409 11.968 14.6969 11.824C14.9049 11.704 15.0449 11.644 15.1169 11.644ZM13.0169 7.768C12.5049 7.768 12.0929 7.928 11.7809 8.248C11.4769 8.568 11.2969 9.02 11.2409 9.604H14.6369C14.6209 9.012 14.4729 8.56 14.1929 8.248C13.9129 7.928 13.5209 7.768 13.0169 7.768ZM19.861 7.012C21.261 7.012 21.961 7.784 21.961 9.328V12.58C21.961 12.732 21.917 12.852 21.829 12.94C21.749 13.02 21.633 13.06 21.481 13.06C21.329 13.06 21.209 13.02 21.121 12.94C21.033 12.852 20.989 12.732 20.989 12.58V9.388C20.989 8.844 20.881 8.448 20.665 8.2C20.457 7.952 20.121 7.828 19.657 7.828C19.121 7.828 18.693 7.992 18.373 8.32C18.053 8.648 17.893 9.092 17.893 9.652V12.58C17.893 12.732 17.849 12.852 17.761 12.94C17.681 13.02 17.565 13.06 17.413 13.06C17.261 13.06 17.141 13.02 17.053 12.94C16.965 12.852 16.921 12.732 16.921 12.58V7.516C16.921 7.372 16.965 7.256 17.053 7.168C17.141 7.08 17.261 7.036 17.413 7.036C17.557 7.036 17.669 7.08 17.749 7.168C17.837 7.256 17.881 7.368 17.881 7.504V8.116C18.073 7.756 18.341 7.484 18.685 7.3C19.029 7.108 19.421 7.012 19.861 7.012Z'
                            fill='white'
                        />
                    </svg>
                </div>
                {user ? (
                    <div className={'flex-direction-column'}>
                        <div className='username-nav' onClick={handleClick}>
                            {user.displayName}
                        </div>
                        {click ? (
                            <div className='logout-container'>
                                <div onClick={logout} className='logout-btn'>
                                    Logout
                                </div>
                                <hr className={'ml-5 mr-5'} />
                            </div>
                        ) : (
                            <></>
                        )}
                    </div>
                ) : (
                    <Link to='/user-login'>
                        <button className='join-button'>Join</button>
                    </Link>
                )}
            </navbar>
        </>
    );
};

export default Navbar;
