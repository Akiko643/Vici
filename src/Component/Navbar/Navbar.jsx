import React, { useState } from 'react';
// import Logo from './Logo'
import './Navbar.css';
// import { CollegePrepItems } from './CollegePrepItems';
// import { EducationItems } from './EducationItems';

import Dropdown from './Dropdown';
import { AuthStateValue } from '../../Hooks/auth-user-provider';
import { useFirebase } from '../../Hooks/firebase';
import { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';
import { Interview } from '../Interview/Interview.js';
import { useContext } from 'react';
import { Context } from '../../Providers/contentProvider';
const Navbar = () => {
    const [click, setClick] = useState(false);
    const [dropdown, setDropdown] = useState(false);
    const { user } = AuthStateValue();
    const { auth } = useFirebase();
    const { collegePrep } = useContext(Context);
    const handleClick = () => setClick(!click);
    const dropdownHover = () => {
        setDropdown(!dropdown);
    };

    const logout = () => {
        auth.signOut()
            .then(() => {
                console.log('logged out');
            })
            .catch((error) => console.log(error.message));
    };
    return (
        <>
            <navbar>
                <Link className='nav-logo' to='/'>
                    <svg
                        width='160'
                        height='38'
                        viewBox='0 0 160 38'
                        fill='none'
                        xmlns='http://www.w3.org/2000/svg'
                    >
                        <path
                            d='M31 4.1665H56V29.1665H31V4.1665Z'
                            fill='#FF5555'
                        />
                        <circle
                            cx='69.5'
                            cy='16.6665'
                            r='12.5'
                            fill='#7EE8FF'
                        />
                        <path
                            d='M0 29.1665L15.4762 4.1665L30 29.1665H0Z'
                            fill='#FFF066'
                        />
                        <path
                            d='M99.1 7.775C99.1833 7.59167 99.3 7.45 99.45 7.35C99.6167 7.25 99.7917 7.2 99.975 7.2C100.242 7.2 100.475 7.29167 100.675 7.475C100.892 7.64167 101 7.85 101 8.1C101 8.23333 100.967 8.36667 100.9 8.5L93.725 24.45C93.625 24.6667 93.475 24.8333 93.275 24.95C93.075 25.0667 92.8583 25.125 92.625 25.125C92.3917 25.125 92.175 25.0667 91.975 24.95C91.775 24.8333 91.625 24.6667 91.525 24.45L84.375 8.5C84.325 8.36667 84.3 8.24167 84.3 8.125C84.3 7.85833 84.4083 7.64167 84.625 7.475C84.8417 7.29167 85.0833 7.2 85.35 7.2C85.75 7.2 86.0417 7.39167 86.225 7.775L92.675 22.35L99.1 7.775ZM104.485 25.125C104.168 25.125 103.918 25.0333 103.735 24.85C103.552 24.65 103.46 24.3917 103.46 24.075V8.3C103.46 7.98333 103.552 7.73333 103.735 7.55C103.918 7.35 104.168 7.25 104.485 7.25C104.802 7.25 105.052 7.35 105.235 7.55C105.418 7.73333 105.51 7.98333 105.51 8.3V24.075C105.51 24.3917 105.418 24.65 105.235 24.85C105.052 25.0333 104.802 25.125 104.485 25.125ZM117.332 25.2C115.665 25.2 114.223 24.8417 113.007 24.125C111.79 23.3917 110.848 22.35 110.182 21C109.532 19.6333 109.207 18.025 109.207 16.175C109.207 14.3417 109.532 12.75 110.182 11.4C110.848 10.0333 111.79 8.99167 113.007 8.275C114.223 7.54167 115.665 7.175 117.332 7.175C118.448 7.175 119.498 7.35833 120.482 7.725C121.482 8.075 122.348 8.58333 123.082 9.25C123.348 9.5 123.482 9.79167 123.482 10.125C123.482 10.3583 123.415 10.5667 123.282 10.75C123.148 10.9167 122.99 11 122.807 11C122.607 11 122.365 10.9083 122.082 10.725C121.232 10.0583 120.457 9.59167 119.757 9.325C119.073 9.05833 118.282 8.925 117.382 8.925C115.448 8.925 113.957 9.55833 112.907 10.825C111.873 12.075 111.357 13.8583 111.357 16.175C111.357 18.5083 111.873 20.3083 112.907 21.575C113.957 22.825 115.448 23.45 117.382 23.45C118.265 23.45 119.057 23.3167 119.757 23.05C120.457 22.7833 121.232 22.3167 122.082 21.65C122.365 21.4667 122.607 21.375 122.807 21.375C122.99 21.375 123.148 21.4583 123.282 21.625C123.415 21.7917 123.482 22 123.482 22.25C123.482 22.5833 123.348 22.875 123.082 23.125C122.348 23.7917 121.482 24.3083 120.482 24.675C119.498 25.025 118.448 25.2 117.332 25.2ZM127.801 25.125C127.484 25.125 127.234 25.0333 127.051 24.85C126.867 24.65 126.776 24.3917 126.776 24.075V8.3C126.776 7.98333 126.867 7.73333 127.051 7.55C127.234 7.35 127.484 7.25 127.801 7.25C128.117 7.25 128.367 7.35 128.551 7.55C128.734 7.73333 128.826 7.98333 128.826 8.3V24.075C128.826 24.3917 128.734 24.65 128.551 24.85C128.367 25.0333 128.117 25.125 127.801 25.125Z'
                            fill='black'
                        />
                        <path
                            d='M136.84 19.012C137.352 19.012 137.804 19.136 138.196 19.384C138.588 19.632 138.892 19.984 139.108 20.44C139.324 20.896 139.432 21.424 139.432 22.024C139.432 22.632 139.324 23.168 139.108 23.632C138.892 24.088 138.588 24.444 138.196 24.7C137.804 24.956 137.352 25.084 136.84 25.084C136.384 25.084 135.984 24.984 135.64 24.784C135.304 24.584 135.048 24.3 134.872 23.932V24.58C134.872 24.724 134.828 24.84 134.74 24.928C134.66 25.016 134.544 25.06 134.392 25.06C134.24 25.06 134.12 25.016 134.032 24.928C133.944 24.84 133.9 24.724 133.9 24.58V16.948C133.9 16.812 133.944 16.7 134.032 16.612C134.12 16.524 134.24 16.48 134.392 16.48C134.544 16.48 134.66 16.524 134.74 16.612C134.828 16.692 134.872 16.804 134.872 16.948V20.164C135.048 19.796 135.304 19.512 135.64 19.312C135.984 19.112 136.384 19.012 136.84 19.012ZM136.648 24.28C137.216 24.28 137.656 24.084 137.968 23.692C138.28 23.292 138.436 22.736 138.436 22.024C138.436 21.328 138.28 20.788 137.968 20.404C137.656 20.02 137.216 19.828 136.648 19.828C136.08 19.828 135.64 20.02 135.328 20.404C135.024 20.788 134.872 21.336 134.872 22.048C134.872 22.76 135.024 23.312 135.328 23.704C135.64 24.088 136.08 24.28 136.648 24.28ZM145.408 23.644C145.496 23.644 145.572 23.68 145.636 23.752C145.7 23.824 145.732 23.916 145.732 24.028C145.732 24.228 145.592 24.412 145.312 24.58C145.024 24.748 144.72 24.876 144.4 24.964C144.08 25.044 143.768 25.084 143.464 25.084C142.56 25.084 141.844 24.816 141.316 24.28C140.796 23.744 140.536 23.004 140.536 22.06C140.536 21.46 140.652 20.932 140.884 20.476C141.116 20.012 141.44 19.652 141.856 19.396C142.28 19.14 142.76 19.012 143.296 19.012C144.056 19.012 144.66 19.26 145.108 19.756C145.556 20.252 145.78 20.924 145.78 21.772C145.78 21.932 145.748 22.048 145.684 22.12C145.62 22.192 145.516 22.228 145.372 22.228H141.508C141.58 23.604 142.232 24.292 143.464 24.292C143.776 24.292 144.044 24.252 144.268 24.172C144.492 24.084 144.732 23.968 144.988 23.824C145.196 23.704 145.336 23.644 145.408 23.644ZM143.308 19.768C142.796 19.768 142.384 19.928 142.072 20.248C141.768 20.568 141.588 21.02 141.532 21.604H144.928C144.912 21.012 144.764 20.56 144.484 20.248C144.204 19.928 143.812 19.768 143.308 19.768ZM149.877 24.292C150.157 24.316 150.297 24.444 150.297 24.676C150.297 24.812 150.245 24.916 150.141 24.988C150.045 25.052 149.897 25.076 149.697 25.06L149.373 25.036C148.733 24.988 148.261 24.796 147.957 24.46C147.653 24.124 147.501 23.616 147.501 22.936V19.924H146.697C146.561 19.924 146.453 19.892 146.373 19.828C146.301 19.756 146.265 19.664 146.265 19.552C146.265 19.432 146.301 19.336 146.373 19.264C146.453 19.192 146.561 19.156 146.697 19.156H147.501V17.8C147.501 17.648 147.545 17.532 147.633 17.452C147.721 17.364 147.841 17.32 147.993 17.32C148.137 17.32 148.253 17.364 148.341 17.452C148.429 17.532 148.473 17.648 148.473 17.8V19.156H149.805C149.933 19.156 150.033 19.192 150.105 19.264C150.185 19.336 150.225 19.432 150.225 19.552C150.225 19.664 150.185 19.756 150.105 19.828C150.033 19.892 149.933 19.924 149.805 19.924H148.473V22.984C148.473 23.424 148.561 23.744 148.737 23.944C148.921 24.136 149.193 24.244 149.553 24.268L149.877 24.292ZM153.643 19.012C155.107 19.012 155.839 19.78 155.839 21.316V24.58C155.839 24.724 155.795 24.84 155.707 24.928C155.627 25.016 155.515 25.06 155.371 25.06C155.227 25.06 155.111 25.016 155.023 24.928C154.935 24.84 154.891 24.724 154.891 24.58V24.004C154.739 24.348 154.507 24.616 154.195 24.808C153.883 24.992 153.523 25.084 153.115 25.084C152.739 25.084 152.391 25.008 152.071 24.856C151.759 24.704 151.511 24.492 151.327 24.22C151.143 23.948 151.051 23.648 151.051 23.32C151.051 22.88 151.163 22.54 151.387 22.3C151.611 22.052 151.979 21.876 152.491 21.772C153.003 21.66 153.715 21.604 154.627 21.604H154.891V21.208C154.891 20.728 154.791 20.376 154.591 20.152C154.399 19.928 154.083 19.816 153.643 19.816C153.099 19.816 152.547 19.964 151.987 20.26C151.771 20.396 151.619 20.464 151.531 20.464C151.435 20.464 151.355 20.428 151.291 20.356C151.227 20.284 151.195 20.192 151.195 20.08C151.195 19.968 151.227 19.872 151.291 19.792C151.363 19.704 151.475 19.616 151.627 19.528C151.907 19.368 152.223 19.244 152.575 19.156C152.935 19.06 153.291 19.012 153.643 19.012ZM153.247 24.316C153.727 24.316 154.119 24.156 154.423 23.836C154.735 23.508 154.891 23.088 154.891 22.576V22.228H154.675C153.971 22.228 153.435 22.26 153.067 22.324C152.699 22.38 152.435 22.48 152.275 22.624C152.123 22.76 152.047 22.964 152.047 23.236C152.047 23.548 152.159 23.808 152.383 24.016C152.615 24.216 152.903 24.316 153.247 24.316Z'
                            fill='black'
                        />
                    </svg>
                </Link>
                <div className='menu-icon' onClick={handleClick}>
                    <i className={click ? 'fas fa-times' : 'fas fa-bars'} />
                </div>
                <ul className={click ? 'nav-menu active' : 'nav-menu'}>
                    <li className='nav-item'>
                        <Link to='/education' className='nav-links'>
                            Education{' '}
                        </Link>
                    </li>
                    <li
                        className='nav-item'
                        onMouseEnter={dropdownHover}
                        onMouseLeave={dropdownHover}
                    >
                        <Link className='nav-links'>
                            College Prep{' '}
                            <svg
                                width='11'
                                height='6'
                                viewBox='0 0 11 6'
                                fill='none'
                                xmlns='http://www.w3.org/2000/svg'
                            >
                                <path
                                    d='M1 0.944702L5.75564 5.0552L10.079 0.944702'
                                    stroke='black'
                                />
                            </svg>
                        </Link>
                        {dropdown && <Dropdown listName={collegePrep} />}
                    </li>
                    <li className='nav-item'>
                        <Link to='/interview' className='nav-links'>
                            Interview
                        </Link>
                    </li>
                    <li className='nav-item'>
                        <Link to='/blog' className='nav-links'>
                            Blog
                        </Link>
                    </li>
                </ul>

                <div className='lang-toggle'>
                    <svg
                        width='48'
                        height='20'
                        viewBox='0 0 48 20'
                        fill='none'
                        xmlns='http://www.w3.org/2000/svg'
                    >
                        <rect
                            x='1'
                            y='1'
                            width='46'
                            height='18'
                            rx='9'
                            stroke='black'
                            strokeWidth='2'
                        />
                        <path
                            d='M-1.69479e-06 10C-1.69479e-06 4.47715 4.47715 0 10 0H16.7738H22.8767C28.3996 0 32.8767 4.47715 32.8767 10C32.8767 15.5228 28.3996 20 22.8767 20H10C4.47715 20 -1.69479e-06 15.5228 -1.69479e-06 10Z'
                            fill='#010101'
                        />
                        <path
                            d='M15.1169 11.644C15.2049 11.644 15.2809 11.68 15.3449 11.752C15.4089 11.824 15.4409 11.916 15.4409 12.028C15.4409 12.228 15.3009 12.412 15.0209 12.58C14.7329 12.748 14.4289 12.876 14.1089 12.964C13.7889 13.044 13.4769 13.084 13.1729 13.084C12.2689 13.084 11.5529 12.816 11.0249 12.28C10.5049 11.744 10.2449 11.004 10.2449 10.06C10.2449 9.46 10.3609 8.932 10.5929 8.476C10.8249 8.012 11.1489 7.652 11.5649 7.396C11.9889 7.14 12.4689 7.012 13.0049 7.012C13.7649 7.012 14.3689 7.26 14.8169 7.756C15.2649 8.252 15.4889 8.924 15.4889 9.772C15.4889 9.932 15.4569 10.048 15.3929 10.12C15.3289 10.192 15.2249 10.228 15.0809 10.228H11.2169C11.2889 11.604 11.9409 12.292 13.1729 12.292C13.4849 12.292 13.7529 12.252 13.9769 12.172C14.2009 12.084 14.4409 11.968 14.6969 11.824C14.9049 11.704 15.0449 11.644 15.1169 11.644ZM13.0169 7.768C12.5049 7.768 12.0929 7.928 11.7809 8.248C11.4769 8.568 11.2969 9.02 11.2409 9.604H14.6369C14.6209 9.012 14.4729 8.56 14.1929 8.248C13.9129 7.928 13.5209 7.768 13.0169 7.768ZM19.861 7.012C21.261 7.012 21.961 7.784 21.961 9.328V12.58C21.961 12.732 21.917 12.852 21.829 12.94C21.749 13.02 21.633 13.06 21.481 13.06C21.329 13.06 21.209 13.02 21.121 12.94C21.033 12.852 20.989 12.732 20.989 12.58V9.388C20.989 8.844 20.881 8.448 20.665 8.2C20.457 7.952 20.121 7.828 19.657 7.828C19.121 7.828 18.693 7.992 18.373 8.32C18.053 8.648 17.893 9.092 17.893 9.652V12.58C17.893 12.732 17.849 12.852 17.761 12.94C17.681 13.02 17.565 13.06 17.413 13.06C17.261 13.06 17.141 13.02 17.053 12.94C16.965 12.852 16.921 12.732 16.921 12.58V7.516C16.921 7.372 16.965 7.256 17.053 7.168C17.141 7.08 17.261 7.036 17.413 7.036C17.557 7.036 17.669 7.08 17.749 7.168C17.837 7.256 17.881 7.368 17.881 7.504V8.116C18.073 7.756 18.341 7.484 18.685 7.3C19.029 7.108 19.421 7.012 19.861 7.012Z'
                            fill='white'
                        />
                    </svg>
                </div>
                {user ? (
                    <div className={'flex-direction-column'}>
                        <div className='username-nav' onClick={handleClick}>
                            {user.displayName}
                        </div>
                        {click ? (
                            <div className='logout-container'>
                                <div onClick={logout} className='logout-btn'>
                                    Logout
                                </div>
                                <hr className={'ml-5 mr-5'} />
                            </div>
                        ) : (
                            <></>
                        )}
                    </div>
                ) : (
                    <Link to='/user-login'>
                        <button className='join-button'>Join</button>
                    </Link>
                )}
            </navbar>
        </>
    );
};

export default Navbar;
